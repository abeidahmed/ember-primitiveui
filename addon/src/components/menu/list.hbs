{{! template-lint-disable no-down-event-binding }}

{{#if @isOpen}}
  <Portal @disabled={{reverse-boolean @portal}}>
    {{#let (element (or @as "div")) as |Tag|}}
      <Tag
        role="menu"
        tabindex="-1"
        ...attributes
        id={{@listId}}
        aria-labelledby={{@buttonId}}
        aria-activedescendant={{@activeItem.id}}
        data-state={{if @isOpen "open" "closed"}}
        {{on "keydown" this.handleKeydown}}
        {{this.registerList}}
        {{focus-trap}}
      >
        {{yield}}
      </Tag>
    {{/let}}
  </Portal>
{{/if}}
